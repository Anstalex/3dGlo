(()=>{"use strict";var e;function t(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){l=!0,i=e},f:function(){try{c||null==r.return||r.return()}finally{if(l)throw i}}}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const r=function(e,t,n){e.addEventListener(t,n)};function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw i}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i,c,l,u,s,m,v,d,f,h,g,p,y,b;(function(t){var n=document.getElementById("timer-hours"),r=document.getElementById("timer-minutes"),o=document.getElementById("timer-seconds"),a={};function i(){var e,t,i,c;e=(new Date("10 august 2021 01:10").getTime()-(new Date).getTime())/1e3,t=Math.floor(e%60),i=Math.floor(e/60%60),c=Math.floor(e/60/60),a.timeRemaining=e,a.hours=c,a.minutes=i,a.seconds=t;var l=function(e){return e<10?"0"+e:+e};n.innerText=l(a.hours),r.innerText=l(a.minutes),o.innerText=l(a.seconds)}i(),a.timeRemaining>0?e=setInterval(i,1e3):(n.innerText="00",r.innerText="00",o.innerText="00",clearInterval(e))})(),function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"+7 (___) ___-__-__",r=document.querySelectorAll(e);function o(e){var t=e.keyCode,r=n,o=r.replace(/\D/g,""),a=this.value.replace(/\D/g,""),i=0,c=r.replace(/[_\d]/g,(function(e){return i<a.length?a.charAt(i++)||o.charAt(i):e}));-1!==(i=c.indexOf("_"))&&(c=c.slice(0,i));var l=r.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");(!(l=new RegExp("^"+l+"$")).test(this.value)||this.value.length<5||t>47&&t<58)&&(this.value=c),"blur"===e.type&&this.value.length<5&&(this.value="")}var a,i=t(r);try{for(i.s();!(a=i.n()).done;){var c=a.value;c.addEventListener("input",o),c.addEventListener("focus",o),c.addEventListener("blur",o)}}catch(e){i.e(e)}finally{i.f()}}(".form-phone"),b=document.querySelector("menu"),r(document,"click",(function(e){var t=e.target;!t.closest("menu")&&!t.closest(".menu")||t.closest("li>a")||t.closest(".close-btn")?b.classList.remove("active-menu"):t.closest(".menu")&&b.classList.add("active-menu")})),function(){var e,t=document.querySelector("html"),n="-20",o=document.querySelector(".popup-content"),a=document.querySelector(".popup");a.style.transition="all 1s ease";var i=function r(){a.style.display="block",n<38&&t.clientWidth>768?(n+=2,o.style.left="".concat(n,"%"),e=requestAnimationFrame(r)):cancelAnimationFrame(e)},c=function r(){n>=38&&n<100&&t.clientWidth>768?(e=requestAnimationFrame(r),n+=2,o.style.left="".concat(n,"%")):(cancelAnimationFrame(r),a.style.display="none",n=-20)};r(document,"click",(function(e){var t=e.target;t.matches(".popup-btn")&&requestAnimationFrame(i),t.matches(".popup-close")?requestAnimationFrame(c):t.closest(".popup-content")||requestAnimationFrame(c)}))}(),p=document.querySelector("a>img"),y=document.getElementById("service-block"),r(p,"click",(function(e){e.preventDefault(),y.scrollIntoView({block:"start",behavior:"smooth"})})),f=document.querySelector(".service-header"),h=document.querySelectorAll(".service-header-tab"),g=document.querySelectorAll(".service-tab"),r(f,"click",(function(e){var t=e.target;(t=t.closest(".service-header-tab"))&&h.forEach((function(e,n){e===t&&function(e){for(var t=0;t<g.length;t++)e===t?(h[t].classList.add("active"),g[t].classList.remove("d-none")):(h[t].classList.remove("active"),g[t].classList.add("d-none"))}(n)}))})),function(){var e,t=document.querySelectorAll(".portfolio-item"),n=document.querySelector(".portfolio-content"),o=document.querySelector(".portfolio-dots");!function(){for(var n=0;n<t.length;n++){var r=document.createElement("li");r.classList.add("dot"),o.append(r)}(e=document.querySelectorAll(".dot"))[0].classList.add("dot-active")}();var a,i=0,c=function(e,t,n){e[t].classList.remove(n)},l=function(e,t,n){e[t].classList.add(n)},u=function(){c(t,i,"portfolio-item-active"),c(e,i,"dot-active"),++i>=t.length&&(i=0),l(t,i,"portfolio-item-active"),l(e,i,"dot-active")},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3;a=setInterval(u,e)};r(n,"click",(function(n){n.preventDefault();var r=n.target;r.matches(".portfolio-btn,.dot")&&(c(t,i,"portfolio-item-active"),c(e,i,"dot-active"),r.matches("#arrow-right")?i++:r.matches("#arrow-left")?i--:r.matches(".dot")&&e.forEach((function(e,t){e===r&&(i=t)})),i>=t.length&&(i=0),i<0&&(i=t.length-1),l(t,i,"portfolio-item-active"),l(e,i,"dot-active"))})),r(n,"mouseover",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&clearInterval(a)})),r(n,"mouseout",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&s()})),s()}(),d=document.getElementById("command"),r(d,"mouseover",(function(e){var t=e.target;t.closest(".command__photo")&&(v=t.src,t.src=t.dataset.img)})),r(d,"mouseout",(function(e){var t=e.target;t.closest(".command__photo")&&(t.src=v)})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=document.querySelectorAll(".calc-item[type=number]");t.forEach((function(e){r(e,"input",(function(){e.value=e.value.replace(/\D/g,"")}))}));var n,o=document.querySelector(".calc-block"),a=document.querySelector(".calc-type"),i=document.querySelector(".calc-square"),c=document.querySelector(".calc-day"),l=document.querySelector(".calc-count"),u=document.getElementById("total"),s=0,m=function e(){if(s===n)u.textContent=n;else if(s<n){var t=n-s;t>100&&t<1e3?s+=100:t>1e3&&t<1e4?s+=1e3:t>1e4?s+=1e4:t<1e3&&t>10?s+=10:s++,u.textContent=s.toString(),setTimeout(e,1)}else if(s>n){var r=s-n;r>100&&r<1e3?s-=100:r>1e3&&r<1e4?s-=1e3:r>1e4?s-=1e4:r<100&&r>10?s-=10:s--,u.textContent=s.toString(),setTimeout(e,1)}},v=function(){n=0;var r=1,o=1,s=a.options[a.selectedIndex].dataset.value,v=a.options[a.selectedIndex].value,d=+i.value;"0"===v&&(t.forEach((function(e){e.value=""})),u.value=0),l.value>1&&(r+=(l.value-1)/10),c.value&&c.value<5?o*=2:c.value&&c.value<10&&(o*=1.5),d&&s&&(n=Math.floor(n=e*s*d*r*o)),m()};r(o,"change",(function(e){var t=e.target;(t.matches("select")||t.matches("input"))&&v()}))}(100),i=document.querySelectorAll(".form-phone"),c=document.querySelectorAll(".form-email"),l=document.querySelectorAll(".form-name"),u=document.querySelectorAll("input"),s=document.getElementById("form2-message"),m=function(e,t,n){return t?(e.classList.add("valid"),e.classList.remove("invalid"),!0):(e.classList.add("invalid"),e.classList.remove("valid"),e.value="",e.placeholder=n,!1)},u.forEach((function(e){r(e,"blur",(function(t){!function(e){e.value=e.value.replace(/^-*/g,"").replace(/-*$/g,"").replace(/(-)\1+/g,"-")}(e),t.target.matches(".form-name")?m(e,e.value.length>1,"Введите не менее 2 символов"):t.target.matches(".form-email")?m(e,e.value.length>5&&e.value.match(/.{2,}@(.{2,})\..{2,}/),"e-mail в формате kkk@mail.ru"):t.target.matches(".form-phone")?m(e,0===e.value.length||18===e.value.length,"Телефон должен содержать 11 цифр"):t.target.matches("#form2-message")&&m(e,e.value.length>5||0===e.value.length,"Сообщение не должно быть  короче 5 символов");var n=e.value.split(" ").filter((function(e){if(""!==e.trim())return!0}));e.value=n.join(" ")})),r(e,"input",(function(t){var n;t.target.matches(".form-name")?l.forEach((function(e){var t;(t=e).value=t.value.replace(/[^\sа-яё]+/gi,""),""!==e.value&&(e.value=e.value[0].toUpperCase()+e.value.substring(1,e.value.length))})):t.target.matches("#form2-message")?(""!==e.value&&(e.value=e.value[0].toUpperCase()+e.value.substring(1,e.value.length)),(n=s).value=n.value.replace(/[^а-яё0-9\s.,;:?!\-"'()]+/gi,"")):t.target.matches(".form-email")?c.forEach((function(e){!function(e){e.value=e.value.replace(/[^a-z0-9\-@_.]+/gi,"")}(e)})):t.target.matches(".form-phone")&&i.forEach((function(e){!function(e){e.value=e.value.replace(/[^-+()\d]/g,"")}(e)})),e.value.toString().match(/[а-яёa-z0-9]/gi)||(e.value="")}))})),function(){var e=document.getElementById("form2-message"),t=document.getElementById("form1"),n=document.getElementById("form2"),r=document.getElementById("form3"),a=document.createElement("div");a.style.cssText="font-size: 2rem; min-height: 30px; margin: 30px 0; color:#ffffff;";var i=function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})},c=function(t,n){var r=n.querySelectorAll("input");t.preventDefault(),n.appendChild(a),a.innerHTML='<div class="ldio-preload">\n                <div></div><div></div><div></div><div></div><div></div>\n                <div></div><div></div><div></div><div></div><div></div><div></div><div></div>\n                </div>';var c,l={},u=o(new FormData(n).entries());try{for(u.s();!(c=u.n()).done;){var s=c.value;l[s[0]]=s[1],i(l).then((function(e){if(200!==e.status)throw new Error("Status network not correct");a.textContent="Спасибо!Мы скоро с вами свяжемся!"})).then((function(){setTimeout((function(){a.textContent=""}),500)})).catch((function(e){a.textContent="Что-то пошло не так",console.error(e)}))}}catch(e){u.e(e)}finally{u.f()}!function(){var t,n=o(r);try{for(n.s();!(t=n.n()).done;){var a=t.value;a.value="",e.value="",a.classList.remove("invalid"),a.classList.remove("valid")}}catch(e){n.e(e)}finally{n.f()}}()};t.addEventListener("submit",(function(e){c(e,t)})),n.addEventListener("submit",(function(e){c(e,n)})),r.addEventListener("submit",(function(e){c(e,r)}))}()})();