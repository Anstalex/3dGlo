(()=>{"use strict";var e;function t(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,c=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw c}}}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const r=function(e,t,n){e.addEventListener(t,n)};var o,a=document.querySelector("html"),c="-20",i=document.querySelector(".popup-content"),l=document.querySelector(".popup"),u=function e(){l.style.display="block",i.style.display="block",c<38&&a.clientWidth>=768||c<20&&a.clientWidth<768?(c+=2,i.style.left="".concat(c,"%"),o=requestAnimationFrame(e)):cancelAnimationFrame(o)},s=function e(){c>=38&&c<100&&a.clientWidth>768?(o=requestAnimationFrame(e),c+=2,i.style.left="".concat(c,"%")):c>20&&a.clientWidth>=768?(c+=2,i.style.left="".concat(c,"%"),o=requestAnimationFrame(u)):(cancelAnimationFrame(e),l.style.display="none",i.style.display="none",c=-20)};function m(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,a=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw a}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d,f,h,g,p,y,b,S,A,E,q,I,L,w,x;(function(t){var n=document.getElementById("timer-hours"),r=document.getElementById("timer-minutes"),o=document.getElementById("timer-seconds"),a={};function c(){var e,c,i,l;e=(new Date(t).getTime()-(new Date).getTime())/1e3,c=Math.floor(e%60),i=Math.floor(e/60%60),l=Math.floor(e/60/60),a.timeRemaining=e,a.hours=l,a.minutes=i,a.seconds=c;var u=function(e){return e<10?"0"+e:+e};n.innerText=u(a.hours),r.innerText=u(a.minutes),o.innerText=u(a.seconds)}c(),a.timeRemaining>0?e=setInterval(c,1e3):(n.innerText="00",r.innerText="00",o.innerText="00",clearInterval(e))})("10 august 2021 01:10"),function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"+7 (___) ___-__-__",r=document.querySelectorAll(e);function o(e){var t=e.keyCode,r=n,o=r.replace(/\D/g,""),a=this.value.replace(/\D/g,""),c=0,i=r.replace(/[_\d]/g,(function(e){return c<a.length?a.charAt(c++)||o.charAt(c):e}));-1!==(c=i.indexOf("_"))&&(i=i.slice(0,c));var l=r.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");(!(l=new RegExp("^"+l+"$")).test(this.value)||this.value.length<5||t>47&&t<58)&&(this.value=i),"blur"===e.type&&this.value.length<5&&(this.value="")}var a,c=t(r);try{for(c.s();!(a=c.n()).done;){var i=a.value;i.addEventListener("input",o),i.addEventListener("focus",o),i.addEventListener("blur",o)}}catch(e){c.e(e)}finally{c.f()}}(".form-phone"),w=document.querySelector("menu"),x=function(){w.classList.remove("active-menu")},r(document,"click",(function(e){var t=e.target;if(!t.closest("menu")&&!t.closest(".menu")||t.closest("li>a")||t.closest(".close-btn")){if(t.closest("li>a")){e.preventDefault();var n=t.href.match(/#([^ ]*)/)[1];document.getElementById("".concat(n)).scrollIntoView({block:"start",behavior:"smooth"}),x()}x()}else t.closest(".menu")&&w.classList.add("active-menu")})),r(document,"click",(function(e){var t=e.target;t.matches(".popup-btn")&&requestAnimationFrame(u),t.matches(".popup-close")?requestAnimationFrame(s):t.closest(".popup-content")||requestAnimationFrame(s)})),I=document.querySelector("a>img"),L=document.getElementById("service-block"),r(I,"click",(function(e){e.preventDefault(),L.scrollIntoView({block:"start",behavior:"smooth"})})),A=document.querySelector(".service-header"),E=document.querySelectorAll(".service-header-tab"),q=document.querySelectorAll(".service-tab"),r(A,"click",(function(e){var t=e.target;(t=t.closest(".service-header-tab"))&&E.forEach((function(e,n){e===t&&function(e){for(var t=0;t<q.length;t++)e===t?(E[t].classList.add("active"),q[t].classList.remove("d-none")):(E[t].classList.remove("active"),q[t].classList.add("d-none"))}(n)}))})),function(){var e,t=document.querySelectorAll(".portfolio-item"),n=document.querySelector(".portfolio-content"),o=document.querySelector(".portfolio-dots");!function(){for(var n=0;n<t.length;n++){var r=document.createElement("li");r.classList.add("dot"),o.append(r)}(e=document.querySelectorAll(".dot"))[0].classList.add("dot-active")}();var a,c=0,i=function(e,t,n){e[t].classList.remove(n)},l=function(e,t,n){e[t].classList.add(n)},u=function(){i(t,c,"portfolio-item-active"),i(e,c,"dot-active"),++c>=t.length&&(c=0),l(t,c,"portfolio-item-active"),l(e,c,"dot-active")},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3;a=setInterval(u,e)};r(n,"click",(function(n){n.preventDefault();var r=n.target;r.matches(".portfolio-btn,.dot")&&(i(t,c,"portfolio-item-active"),i(e,c,"dot-active"),r.matches("#arrow-right")?c++:r.matches("#arrow-left")?c--:r.matches(".dot")&&e.forEach((function(e,t){e===r&&(c=t)})),c>=t.length&&(c=0),c<0&&(c=t.length-1),l(t,c,"portfolio-item-active"),l(e,c,"dot-active"))})),r(n,"mouseover",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&clearInterval(a)})),r(n,"mouseout",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&s()})),s()}(),S=document.getElementById("command"),r(S,"mouseover",(function(e){var t=e.target;t.closest(".command__photo")&&(b=t.src,t.src=t.dataset.img)})),r(S,"mouseout",(function(e){var t=e.target;t.closest(".command__photo")&&(t.src=b)})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=document.querySelectorAll(".calc-item[type=number]");t.forEach((function(e){r(e,"input",(function(){e.value=e.value.replace(/\D/g,"")}))}));var n,o=document.querySelector(".calc-block"),a=document.querySelector(".calc-type"),c=document.querySelector(".calc-square"),i=document.querySelector(".calc-day"),l=document.querySelector(".calc-count"),u=document.getElementById("total"),s=0,m=function e(){if(s===n)u.textContent=n;else if(s<n){var t=n-s;t>100&&t<1e3?s+=100:t>1e3&&t<1e4?s+=1e3:t>1e4?s+=1e4:t<1e3&&t>10?s+=10:s++,u.textContent=s.toString(),setTimeout(e,1)}else if(s>n){var r=s-n;r>100&&r<1e3?s-=100:r>1e3&&r<1e4?s-=1e3:r>1e4?s-=1e4:r<100&&r>10?s-=10:s--,u.textContent=s.toString(),setTimeout(e,1)}},v=function(){n=0;var r=1,o=1,s=a.options[a.selectedIndex].dataset.value,v=a.options[a.selectedIndex].value,d=+c.value;"0"===v&&(t.forEach((function(e){e.value=""})),u.value=0),l.value>1&&(r+=(l.value-1)/10),i.value&&i.value<5?o*=2:i.value&&i.value<10&&(o*=1.5),d&&s&&(n=Math.floor(n=e*s*d*r*o)),m()};r(o,"change",(function(e){var t=e.target;(t.matches("select")||t.matches("input"))&&v()}))}(100),d=document.querySelectorAll(".form-phone"),f=document.querySelectorAll(".form-email"),h=document.querySelectorAll(".form-name"),g=document.querySelectorAll("input"),p=document.getElementById("form2-message"),y=function(e,t,n){return t?(e.classList.add("valid"),e.classList.remove("invalid"),!0):(e.classList.add("invalid"),e.classList.remove("valid"),e.value="",e.placeholder=n,!1)},g.forEach((function(e){r(e,"blur",(function(t){!function(e){e.value=e.value.replace(/^-*/g,"").replace(/-*$/g,"").replace(/(-)\1+/g,"-")}(e),t.target.matches(".form-name")?y(e,e.value.length>1,"Введите не менее 2 символов"):t.target.matches(".form-email")?y(e,e.value.length>5&&e.value.match(/.{2,}@(.{2,})\..{2,}/),"e-mail в формате kkk@mail.ru"):t.target.matches(".form-phone")?y(e,0===e.value.length||18===e.value.length,"Телефон должен содержать 11 цифр"):t.target.matches("#form2-message")&&y(e,e.value.length>5||0===e.value.length,"Сообщение не должно быть  короче 5 символов");var n=e.value.split(" ").filter((function(e){if(""!==e.trim())return!0}));e.value=n.join(" ")})),r(e,"input",(function(t){var n;t.target.matches(".form-name")?h.forEach((function(e){var t;(t=e).value=t.value.replace(/[^\sа-яё]+/gi,""),""!==e.value&&(e.value=e.value[0].toUpperCase()+e.value.substring(1,e.value.length))})):t.target.matches("#form2-message")?(""!==e.value&&(e.value=e.value[0].toUpperCase()+e.value.substring(1,e.value.length)),(n=p).value=n.value.replace(/[^а-яё0-9\s.,;:?!\-"'()]+/gi,"")):t.target.matches(".form-email")?f.forEach((function(e){!function(e){e.value=e.value.replace(/[^a-z0-9\-@_.]+/gi,"")}(e)})):t.target.matches(".form-phone")&&d.forEach((function(e){!function(e){e.value=e.value.replace(/[^-+()\d]/g,"")}(e)})),e.value.toString().match(/[а-яёa-z0-9]/gi)||(e.value="")}))})),function(){var e=document.getElementById("form2-message"),t=document.getElementById("form1"),n=document.getElementById("form2"),r=document.getElementById("form3"),o=document.createElement("div");o.style.cssText="font-size: 2rem; min-height: 30px; margin: 30px 0; color:#ffffff;";var a=function(t,n){var r=n.querySelectorAll("input");t.preventDefault(),n.appendChild(o),o.innerHTML='<div class="ldio-preload">\n                <div></div><div></div><div></div><div></div><div></div>\n                <div></div><div></div><div></div><div></div><div></div><div></div><div></div>\n                </div>';var a,c={},i=m(new FormData(n).entries());try{for(i.s();!(a=i.n()).done;){var l=a.value;c[l[0]]=l[1]}}catch(e){i.e(e)}finally{i.f()}(function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})})(c).then((function(e){if(200!==e.status)throw new Error("Status network not correct");o.textContent="Спасибо!Мы скоро с вами свяжемся!"})).then((function(){setTimeout((function(){o.textContent="",s()}),1e3)})).catch((function(e){o.textContent="Что-то пошло не так",console.error(e)})),function(){var t,n=m(r);try{for(n.s();!(t=n.n()).done;){var o=t.value;o.value="",e.value="",o.classList.remove("invalid"),o.classList.remove("valid")}}catch(e){n.e(e)}finally{n.f()}}()};t.addEventListener("submit",(function(e){a(e,t)})),n.addEventListener("submit",(function(e){a(e,n)})),r.addEventListener("submit",(function(e){a(e,r)}))}()})();